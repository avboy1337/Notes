<!-- TOC -->

- [1. yum仅下载软件包](#1-yum仅下载软件包)
- [2. 查找宏定义](#2-查找宏定义)
- [3. Linux命令行错误](#3-linux命令行错误)
- [4. 汇编小写字母转大写字母](#4-汇编小写字母转大写字母)
- [5. iptables监控端口流量大小](#5-iptables监控端口流量大小)
- [6. Git删除commit记录](#6-git删除commit记录)
- [7. Linux查看本机公网IP地址](#7-linux查看本机公网ip地址)
- [8. 在没有/etc/sysconfig/iptables配置文件的情况下持久化IP tables规则](#8-在没有etcsysconfigiptables配置文件的情况下持久化ip-tables规则)

<!-- /TOC -->
# 1. yum仅下载软件包
`yum install --downloadonly --downloaddir=./ httpd`
# 2. 查找宏定义
* `find /usr/include/ -name *.h | xargs grep 'ORIG_EAX'`
* `grep -nr ORIG_EAX /usr/include/`
# 3. Linux命令行错误
* Another app is currently holding the yum lock; waiting for it to exit...代表已经有yum进程在运行，执行`rm -f /var/run/yum.pid`即可
# 4. 汇编小写字母转大写字母
`or al,20h`
# 5. iptables监控端口流量大小
```bash
iptables -I OUTPUT -s 192.168.0.10 -p tcp --sport 80
iptables -n -v -L -t filter
```
# 6. Git删除commit记录
```bash
# 查看commit的历史记录及其对应的commit_id
git log
# 回退版本，将<commit_id>替换成需要回退的版本
git reset --hard <commit_id>
# 使本地和远程的内容都回退到commit_id对应的状态s
git push origin HEAD --force
```
# 7. Linux查看本机公网IP地址
`curl members.3322.org/dyndns/getip`，注意设置DNS服务器
# 8. 在没有/etc/sysconfig/iptables配置文件的情况下持久化IP tables规则
使用iptables-persistent工具
```bash
# 安装
sudo apt-get install iptables-persistent
# Ubuntu14
# 保存以及reload规则
sudo invoke-rc.d iptables-persistent save
sudo invoke-rc.d iptables-persistent reload
# 或者
sudo /etc/init.d/iptables-persistent save
sudo /etc/init.d/iptables-persistent reload
# Ubuntu 16
sudo netfilter-persistent save
sudo netfilter-persistent reload
# 生成的规则将被存储在以下文件中
/etc/iptables/rules.v4
/etc/iptables/rules.v6